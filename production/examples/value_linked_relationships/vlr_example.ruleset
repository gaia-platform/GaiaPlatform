/////////////////////////////////////////////
// Copyright (c) 2021 Gaia Platform LLC
//
// Use of this source code is governed by the MIT
// license that can be found in the LICENSE.txt file
// or at https://opensource.org/licenses/MIT.
/////////////////////////////////////////////

#include <gaia/logger.hpp>

ruleset vlr_rules
{
    on_update(floor_num)
    {
        gaia_log::app().info("{} has arrived at: {}", name, person->floor.department);

        const char* me = name;

        // The navigation path person->floor->person refers to all people currently
        // on the same floor as the singular person who fired this rule.
        // This statement makes sure that the person does not say "Hi" to themselves.
        if (0 != strcmp(me, person->floor->person.name))
        {
            gaia_log::app().info("{} says: Hi, {}!", name, me);
        }
        gaia_log::app().info("---");
    }
}
