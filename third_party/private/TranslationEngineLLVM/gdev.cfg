[apt]
build-essential
clang-8
cmake
libxml2
libxml2-dev
git
python3
python3-dev

[gaia]
production

[pre_run]
--mount=type=ssh \
mkdir -p -m 0600 ~/.ssh
ssh-keyscan github.com >> ~/.ssh/known_hosts
git clone git@github.com:gaia-platform/TranslationEngineLLVM.git
cd TranslationEngineLLVM
git checkout bb4f84fac6cb381477d4f328719a0c19fa470d18
rm -rf .git
rm -rf ~/.ssh

#[run]
#/usr/bin/cmake -DLLVM_ENABLE_EH=ON \
#    -DLLVM_ENABLE_PROJECTS=clang \
#    -DLLVM_ENABLE_RTTI=ON \
#    -DGAIA_SOURCE={source_dir('')} \
#    -DGAIA_PRODUCTION_BUILD={build_dir('production')} \
#    -G "Unix Makefiles" \
#    TranslationEngineLLVM/llvm
#make -j$(nproc)
