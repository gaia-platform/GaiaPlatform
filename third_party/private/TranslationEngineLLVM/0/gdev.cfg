[apt]
clang-8
git
ssh
unzip

[web]
# Requires active VPN connection.
http://192.168.0.250:8081/translation_engine/gaiaPlatformLLVM.deb

[pre_run]
dpkg -i gaiaPlatformLLVM.deb
rm gaiaPlatformLLVM.deb
ln -s /lib/llvm-8/lib/libclang-8.so.1 /usr/lib/libclang.so.8

[run]
--mount=type=ssh \
mkdir -p -m 0600 ~/.ssh
ssh-keyscan github.com >> ~/.ssh/known_hosts
git clone git@github.com:gaia-platform/TranslationEngineLLVM.git
cd TranslationEngineLLVM
git checkout 99ef5a0d42e2198318c7ca353098145093f8a41c
rm -rf .git
rm -rf ~/.ssh
